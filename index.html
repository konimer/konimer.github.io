<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KONIMER PREMIUM</title>
<style>
body {
  margin: 0;
  background: #000;
  color: white;
  font-family: 'Inter', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  overflow: hidden;
}

.container {
  position: relative;
  text-align: center;
}

.waveform {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 300px;
  height: 300px;
  border-radius: 50%;
  overflow: visible;
  z-index: 0;
}

canvas {
  width: 100%;
  height: 100%;
  pointer-events: none;
}

.profile-wrapper {
  position: relative;
  display: inline-block;
  z-index: 2;
}

.profile {
  border-radius: 50%;
  width: 200px;
  height: 200px;
  object-fit: cover;
  border: 4px solid #baff3d;
  cursor: pointer;
}

.play-btn {
  position: absolute;
  bottom: -10px;
  right: -10px;
  background: #baff3d;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: black;
  cursor: pointer;
  z-index: 3;
  user-select: none;
}

h1 {
  margin-top: 20px;
  font-size: 24px;
}

p {
  color: #bbb;
  margin-bottom: 30px;
}

.btn {
  display: block;
  background: #baff3d;
  color: black;
  padding: 12px 30px;
  border-radius: 30px;
  margin: 10px auto;
  font-weight: 600;
  text-decoration: none;
  width: 220px;
  transition: 0.3s;
  position: relative;
  z-index: 5;
}

.btn:hover {
  background: #d4ff6e;
  transform: scale(1.05);
}

footer {
  margin-top: 40px;
  color: #666;
  font-size: 13px;
}
</style>
</head>
<body>
<div class="container">
  <div class="waveform">
    <canvas id="audioCanvas" width="300" height="300"></canvas>
  </div>

  <div class="profile-wrapper">
    <img src="https://github.com/konimer/konimer.github.io/raw/main/retouch_2025050922553313.jpg" 
         class="profile" alt="KONIMER" id="profile">
    <div class="play-btn" id="playBtn">▶</div>
  </div>

  <h1>KONIMER PREMIUM</h1>
  <p>Bizning brend sizning biznesingiz uchun mukammal va zamonaviy saytlarni taklif qiladi.</p>

  <!-- Tugmalar -->
  <a href="https://instagram.com/ru.raximboyev" class="btn" target="_blank">Instagram</a>
  <a href="tel:+998947370714" class="btn">+998 94 737 07 14</a>
  <a href="https://t.me/konimer" class="btn" target="_blank">Telegram</a>
  <a href="https://t.me/+VmvgNbHFGWs4Y2Yy" class="btn" target="_blank">Telegram guruh</a>

  <footer>©2025 KONIMER PREMIUM | RAXIMBOYEV UMIDJON</footer>
</div>

<!-- Lokal audio fayl -->
<audio id="bgAudio" src="music.mp3" loop></audio>

<script>
const audio = document.getElementById("bgAudio");
const canvas = document.getElementById("audioCanvas");
const ctx = canvas.getContext("2d");
const profile = document.getElementById("profile");
const playBtn = document.getElementById("playBtn");

let audioCtx, analyser, source;
let bufferLength, dataArray;
let started = false;
let playing = false;

function draw() {
  requestAnimationFrame(draw);
  analyser.getByteFrequencyData(dataArray);
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  const cx = canvas.width/2, cy = canvas.height/2, r=100;
  for(let i=0;i<bufferLength;i++){
    const angle=(i/bufferLength)*2*Math.PI;
    const h=dataArray[i]/4;
    const x1=cx+Math.cos(angle)*r;
    const y1=cy+Math.sin(angle)*r;
    const x2=cx+Math.cos(angle)*(r+h);
    const y2=cy+Math.sin(angle)*(r+h);
    ctx.strokeStyle=`hsl(${i*2},100%,60%)`;
    ctx.lineWidth=2;
    ctx.beginPath(); ctx.moveTo(x1,y1); ctx.lineTo(x2,y2); ctx.stroke();
  }
}

async function toggleAudio() {
  if (!started) {
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    source = audioCtx.createMediaElementSource(audio);
    analyser = audioCtx.createAnalyser();
    source.connect(analyser);
    analyser.connect(audioCtx.destination);
    analyser.fftSize = 256;
    bufferLength = analyser.frequencyBinCount;
    dataArray = new Uint8Array(bufferLength);
    draw();
    started = true;
  }

  if(audioCtx.state === 'suspended') await audioCtx.resume();

  if(!playing){
    audio.play();
    playBtn.textContent = "⏸";
    playing = true;
  } else {
    audio.pause();
    playBtn.textContent = "▶";
    playing = false;
  }
}

// Bosish mumkin: profil rasm yoki kichik tugma
playBtn.addEventListener('click', toggleAudio);
profile.addEventListener('click', toggleAudio);
</script>
</body>
</html>
