<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>KONIMER PREMIUM</title>
<style>
body {
  margin: 0;
  background: #000;
  color: white;
  font-family: 'Inter', sans-serif;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  min-height: 100vh;
  overflow: hidden;
}

.container {
  position: relative;
  text-align: center;
  padding: 20px;
}

.waveform-container {
  position: relative;
  width: 300px;
  height: 300px;
  margin: 0 auto 30px;
}

.waveform {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  z-index: 1;
}

.profile-wrapper {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  z-index: 2;
}

.profile {
  border-radius: 50%;
  width: 200px;
  height: 200px;
  object-fit: cover;
  border: 4px solid #baff3d;
  cursor: pointer;
  display: block;
}

.play-btn {
  position: absolute;
  bottom: -10px;
  right: -10px;
  background: #baff3d;
  border-radius: 50%;
  width: 40px;
  height: 40px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-weight: bold;
  color: black;
  cursor: pointer;
  z-index: 3;
  user-select: none;
  border: none;
  outline: none;
}

h1 {
  margin-top: 20px;
  font-size: 24px;
}

p {
  color: #bbb;
  margin-bottom: 30px;
  max-width: 500px;
  line-height: 1.5;
}

.btn {
  display: block;
  background: #baff3d;
  color: black;
  padding: 12px 30px;
  border-radius: 30px;
  margin: 10px auto;
  font-weight: 600;
  text-decoration: none;
  width: 220px;
  transition: 0.3s;
  position: relative;
  z-index: 5;
}

.btn:hover {
  background: #d4ff6e;
  transform: scale(1.05);
}

footer {
  margin-top: 40px;
  color: #666;
  font-size: 13px;
}

canvas {
  display: block;
}
</style>
</head>
<body>
<div class="container">
  <div class="waveform-container">
    <canvas id="audioCanvas" class="waveform" width="300" height="300"></canvas>
    <div class="profile-wrapper">
      <img src="https://github.com/konimer/konimer.github.io/raw/main/retouch_2025050922553313.jpg" 
           class="profile" alt="KONIMER" id="profile">
      <button class="play-btn" id="playBtn">▶</button>
    </div>
  </div>

  <h1>KONIMER PREMIUM</h1>
  <p>Bizning brend sizning biznesingiz uchun mukammal va zamonaviy saytlarni taklif qiladi.</p>

  <!-- Tugmalar -->
  <a href="https://instagram.com/ru.raximboyev" class="btn" target="_blank">Instagram</a>
  <a href="tel:+998947370714" class="btn">+998 94 737 07 14</a>
  <a href="https://t.me/konimer" class="btn" target="_blank">Telegram</a>
  <a href="https://t.me/+VmvgNbHFGWs4Y2Yy" class="btn" target="_blank">Telegram guruh</a>

  <footer>©2025 KONIMER PREMIUM | RAXIMBOYEV UMIDJON</footer>
</div>

<!-- Audio element -->
<audio id="bgAudio" loop>
  <source src="music.mp3" type="audio/mpeg">
  Sizning brauzeringiz audio elementni qo'llab-quvvatlamaydi.
</audio>

<script>
const audio = document.getElementById("bgAudio");
const canvas = document.getElementById("audioCanvas");
const ctx = canvas.getContext("2d");
const profile = document.getElementById("profile");
const playBtn = document.getElementById("playBtn");

let audioCtx, analyser, source;
let bufferLength, dataArray;
let started = false;
let playing = false;
let rotation = 0;

// Canvasni tozalash va sozlash
function setupCanvas() {
  canvas.width = 300;
  canvas.height = 300;
  ctx.clearRect(0, 0, canvas.width, canvas.height);
}

// Waveform chizish
function draw() {
  requestAnimationFrame(draw);
  
  if (!analyser) return;
  
  analyser.getByteFrequencyData(dataArray);
  
  // Canvasni tozalash
  ctx.clearRect(0, 0, canvas.width, canvas.height);
  
  // Aylanishni yangilash
  rotation += 0.01;
  
  const centerX = canvas.width / 2;
  const centerY = canvas.height / 2;
  const baseRadius = 110; // Rasm atrofidagi asosiy radius
  const maxBarHeight = 40; // Maksimal bar balandligi
  
  // Har bir bar uchun
  for(let i = 0; i < bufferLength; i++) {
    // Bar burchagini hisoblash (aylanish bilan)
    const angle = (i / bufferLength) * Math.PI * 2 + rotation;
    
    // Bar balandligi
    const barHeight = (dataArray[i] / 255) * maxBarHeight;
    
    // Bar boshlang'ich va tugash nuqtalari
    const startX = centerX + Math.cos(angle) * baseRadius;
    const startY = centerY + Math.sin(angle) * baseRadius;
    const endX = centerX + Math.cos(angle) * (baseRadius + barHeight);
    const endY = centerY + Math.sin(angle) * (baseRadius + barHeight);
    
    // Bar chizish
    ctx.strokeStyle = `hsl(${i * 360 / bufferLength}, 100%, 60%)`;
    ctx.lineWidth = 2;
    ctx.beginPath();
    ctx.moveTo(startX, startY);
    ctx.lineTo(endX, endY);
    ctx.stroke();
  }
}

// Audioni boshlash/to'xtatish
async function toggleAudio() {
  try {
    if (!started) {
      // Audio kontekstini yaratish
      audioCtx = new (window.AudioContext || window.webkitAudioContext)();
      source = audioCtx.createMediaElementSource(audio);
      analyser = audioCtx.createAnalyser();
      
      // Ulanishlar
      source.connect(analyser);
      analyser.connect(audioCtx.destination);
      
      // Analyser sozlamalari
      analyser.fftSize = 256;
      bufferLength = analyser.frequencyBinCount;
      dataArray = new Uint8Array(bufferLength);
      
      // Canvasni sozlash
      setupCanvas();
      
      // Chizishni boshlash
      draw();
      started = true;
    }

    // Audio kontekstini faollashtirish
    if (audioCtx.state === 'suspended') {
      await audioCtx.resume();
    }

    // Play/pause
    if (!playing) {
      await audio.play();
      playBtn.textContent = "⏸";
      playing = true;
    } else {
      audio.pause();
      playBtn.textContent = "▶";
      playing = false;
    }
  } catch (error) {
    console.error('Audio xatosi:', error);
    alert('Audio fayl topilmadi yoki yuklashda xatolik yuz berdi. Iltimos, music.mp3 faylini tekshiring.');
  }
}

// Bosish hodisalari
playBtn.addEventListener('click', toggleAudio);
profile.addEventListener('click', toggleAudio);

// Sahifa yuklanganda canvasni sozlash
window.addEventListener('load', setupCanvas);
</script>
</body>
</html>
